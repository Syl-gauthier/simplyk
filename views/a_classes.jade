extends ./g_layout.jade
block vars
  - var page = 'students'
  - var hours_done = function(previousValue, currentValue, currentIndex, array) {return previousValue + currentValue; };


block content
      .container-fluid
        .row.fill
          ol.breadcrumb
              li
                a(href="/admin/dashboard") Tableau de bord
              li.active Mes étudiants
          .col-md-10.col-md-offset-1
            h1.page-header.firstColor Mes étudiants
            div.table-responsive
              table.table.table-striped.table-bordered.table-hover.table-condensed
                th Nom
                th Prénom
                th Heures effectués
                th Dossier
                tr.warning
                  td 1ère secondaire
                  td
                  td
                  td
                each vol, vol_i in volunteers
                  tr.success
                    td= vol.lastname
                    td= vol.firstname
                    if vol.events.length
                      td= vol.events.map(el => el.hours_done).reduce(hours_done, 0) + ' h'
                    else
                      td 0 h
                    td
                      a.btn-link(href="/admin/report"+vol._id) Accéder

block footscript
  // jQuery (necessary for Bootstrap's JavaScript plugins)
  script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js')
  // jQuery
  script(src='javascripts/my-jquery.js')
  // Include all compiled plugins (below), or include individual files as needed
  script(src='javascripts/bootstrap.min.js')
